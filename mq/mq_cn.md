# 消息队列

消息传输需要使用到一个高效的消息队列，而且对于种类繁多的消息，我们需要保证不同的消息的隔离性。

## 术语

### 操作类型

**subscribe**: 关注一个频道

**publish**: 将一条消息发布到某个消息队列中

### 消息队列的类型：

**queue**: 一个消息只能被一个消费者获取。

**topic**: 一个消息会被所有关注这个topic的用户获取。

## 设计思路

需要保证高可用，占用**内存**尽量小。我们考虑以极简的思路来实现这个消息队列，他只需要有如下几个操作：
    
1. NewChannel

    创建一个新频道，可以设定类型（queue/topic）。可以设定频道的security，使得他只会被特定的人删除。

2. GetAllChannel

    获取所有频道。

3. (Un)SubscribeChannel

    (取消)订阅一个频道

4. PublishToChannel

    向一个频道发送消息

5. DeleteChannel

    删除一个频道。
